<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Voxel Editor: Camera System Subsystem</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Voxel Editor<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('md_core_2camera_2_d_e_s_i_g_n.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Camera System Subsystem </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md111"></a></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md112"></a>
Purpose</h1>
<p>Manages 3D camera controls, view presets, smooth transitions, and camera state persistence for the voxel editor across all platforms.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md113"></a>
Key Components</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md114"></a>
CameraManager</h2>
<p><b>Responsibility</b>: Main interface for camera operations</p><ul>
<li>Coordinate camera movement and rotation</li>
<li>Manage view presets and transitions</li>
<li>Handle camera state persistence</li>
<li>Provide camera matrices for rendering</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md115"></a>
OrbitCamera</h2>
<p><b>Responsibility</b>: Core camera implementation</p><ul>
<li>Orbit-style camera controls</li>
<li>Target-based rotation and zoom</li>
<li>Constraint handling (zoom limits, bounds)</li>
<li>Smooth interpolation for movements</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md116"></a>
ViewPresets</h2>
<p><b>Responsibility</b>: Predefined camera positions</p><ul>
<li>Standard orthographic views (front, back, top, etc.)</li>
<li>Isometric and perspective views</li>
<li>Custom user-defined presets</li>
<li>View transition calculations</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md117"></a>
CameraAnimator</h2>
<p><b>Responsibility</b>: Smooth camera transitions</p><ul>
<li>Interpolated camera movements</li>
<li>Easing functions for natural motion</li>
<li>Concurrent animation management</li>
<li>Animation cancellation and blending</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md118"></a>
Interface Design</h1>
<div class="fragment"><div class="line"><span class="keyword">class </span>CameraManager {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="comment">// View management</span></div>
<div class="line">    <span class="keywordtype">void</span> setView(ViewType view);</div>
<div class="line">    <span class="keywordtype">void</span> setCustomView(<span class="keyword">const</span> Vector3f&amp; position, <span class="keyword">const</span> Vector3f&amp; target, <span class="keyword">const</span> Vector3f&amp; up);</div>
<div class="line">    ViewType getCurrentView() <span class="keyword">const</span>;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Camera movement</span></div>
<div class="line">    <span class="keywordtype">void</span> orbit(<span class="keywordtype">float</span> deltaAzimuth, <span class="keywordtype">float</span> deltaElevation);</div>
<div class="line">    <span class="keywordtype">void</span> pan(<span class="keyword">const</span> Vector2f&amp; delta);</div>
<div class="line">    <span class="keywordtype">void</span> zoom(<span class="keywordtype">float</span> factor);</div>
<div class="line">    <span class="keywordtype">void</span> dolly(<span class="keywordtype">float</span> distance);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Target management</span></div>
<div class="line">    <span class="keywordtype">void</span> setTarget(<span class="keyword">const</span> Vector3f&amp; target);</div>
<div class="line">    Vector3f getTarget() <span class="keyword">const</span>;</div>
<div class="line">    <span class="keywordtype">void</span> frameSelection(<span class="keyword">const</span> BoundingBox&amp; bounds);</div>
<div class="line">    <span class="keywordtype">void</span> frameAll(<span class="keyword">const</span> BoundingBox&amp; worldBounds);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Animation control</span></div>
<div class="line">    <span class="keywordtype">void</span> setAnimationEnabled(<span class="keywordtype">bool</span> enabled);</div>
<div class="line">    <span class="keywordtype">void</span> setAnimationDuration(<span class="keywordtype">float</span> seconds);</div>
<div class="line">    <span class="keywordtype">bool</span> isAnimating() <span class="keyword">const</span>;</div>
<div class="line">    <span class="keywordtype">void</span> stopAnimation();</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Camera properties</span></div>
<div class="line">    <span class="keywordtype">void</span> setProjection(ProjectionType type);</div>
<div class="line">    <span class="keywordtype">void</span> setFieldOfView(<span class="keywordtype">float</span> fovDegrees);</div>
<div class="line">    <span class="keywordtype">void</span> setNearFar(<span class="keywordtype">float</span> nearPlane, <span class="keywordtype">float</span> farPlane);</div>
<div class="line">    <span class="keywordtype">void</span> setViewportSize(<span class="keywordtype">int</span> width, <span class="keywordtype">int</span> height);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Matrix access</span></div>
<div class="line">    Matrix4f getViewMatrix() <span class="keyword">const</span>;</div>
<div class="line">    Matrix4f getProjectionMatrix() <span class="keyword">const</span>;</div>
<div class="line">    Matrix4f getViewProjectionMatrix() <span class="keyword">const</span>;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// State management</span></div>
<div class="line">    <span class="keywordtype">void</span> reset();</div>
<div class="line">    CameraState getState() <span class="keyword">const</span>;</div>
<div class="line">    <span class="keywordtype">void</span> setState(<span class="keyword">const</span> CameraState&amp; state);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Constraints</span></div>
<div class="line">    <span class="keywordtype">void</span> setZoomLimits(<span class="keywordtype">float</span> minZoom, <span class="keywordtype">float</span> maxZoom);</div>
<div class="line">    <span class="keywordtype">void</span> setOrbitLimits(<span class="keywordtype">float</span> minElevation, <span class="keywordtype">float</span> maxElevation);</div>
<div class="line">    <span class="keywordtype">void</span> setBounds(<span class="keyword">const</span> BoundingBox&amp; bounds);</div>
<div class="line">    </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    std::unique_ptr&lt;OrbitCamera&gt; m_camera;</div>
<div class="line">    std::unique_ptr&lt;ViewPresets&gt; m_presets;</div>
<div class="line">    std::unique_ptr&lt;CameraAnimator&gt; m_animator;</div>
<div class="line">    EventDispatcher* m_eventDispatcher;</div>
<div class="line">};</div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md119"></a>
Data Structures</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md120"></a>
ViewType</h2>
<div class="fragment"><div class="line"><span class="keyword">enum class</span> ViewType {</div>
<div class="line">    Custom,</div>
<div class="line">    Front,</div>
<div class="line">    Back,</div>
<div class="line">    Left,</div>
<div class="line">    Right,</div>
<div class="line">    Top,</div>
<div class="line">    Bottom,</div>
<div class="line">    Isometric,</div>
<div class="line">    Perspective</div>
<div class="line">};</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md121"></a>
ProjectionType</h2>
<div class="fragment"><div class="line"><span class="keyword">enum class</span> ProjectionType {</div>
<div class="line">    Perspective,</div>
<div class="line">    Orthographic</div>
<div class="line">};</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md122"></a>
CameraState</h2>
<div class="fragment"><div class="line"><span class="keyword">struct </span>CameraState {</div>
<div class="line">    Vector3f position;</div>
<div class="line">    Vector3f target;</div>
<div class="line">    Vector3f up;</div>
<div class="line">    <span class="keywordtype">float</span> distance;</div>
<div class="line">    <span class="keywordtype">float</span> azimuth;          <span class="comment">// Rotation around Y axis</span></div>
<div class="line">    <span class="keywordtype">float</span> elevation;        <span class="comment">// Rotation around X axis</span></div>
<div class="line">    ProjectionType projectionType;</div>
<div class="line">    <span class="keywordtype">float</span> fieldOfView;</div>
<div class="line">    <span class="keywordtype">float</span> nearPlane;</div>
<div class="line">    <span class="keywordtype">float</span> farPlane;</div>
<div class="line">    ViewType currentView;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordtype">bool</span> operator==(<span class="keyword">const</span> CameraState&amp; other) <span class="keyword">const</span>;</div>
<div class="line">    <span class="keywordtype">void</span> serialize(BinaryWriter&amp; writer) <span class="keyword">const</span>;</div>
<div class="line">    <span class="keywordtype">void</span> deserialize(BinaryReader&amp; reader);</div>
<div class="line">};</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md123"></a>
CameraConstraints</h2>
<div class="fragment"><div class="line"><span class="keyword">struct </span>CameraConstraints {</div>
<div class="line">    <span class="keywordtype">float</span> minZoom = 0.1f;</div>
<div class="line">    <span class="keywordtype">float</span> maxZoom = 100.0f;</div>
<div class="line">    <span class="keywordtype">float</span> minElevation = -89.0f;  <span class="comment">// degrees</span></div>
<div class="line">    <span class="keywordtype">float</span> maxElevation = 89.0f;   <span class="comment">// degrees</span></div>
<div class="line">    std::optional&lt;BoundingBox&gt; bounds;</div>
<div class="line">    <span class="keywordtype">bool</span> constrainTarget = <span class="keyword">false</span>;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordtype">void</span> applyToState(CameraState&amp; state) <span class="keyword">const</span>;</div>
<div class="line">};</div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md124"></a>
Camera Implementation</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md125"></a>
OrbitCamera</h2>
<div class="fragment"><div class="line"><span class="keyword">class </span>OrbitCamera {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    OrbitCamera();</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Core operations</span></div>
<div class="line">    <span class="keywordtype">void</span> orbit(<span class="keywordtype">float</span> deltaAzimuth, <span class="keywordtype">float</span> deltaElevation);</div>
<div class="line">    <span class="keywordtype">void</span> pan(<span class="keyword">const</span> Vector2f&amp; screenDelta, <span class="keyword">const</span> Matrix4f&amp; projectionMatrix, <span class="keyword">const</span> Vector2i&amp; viewportSize);</div>
<div class="line">    <span class="keywordtype">void</span> zoom(<span class="keywordtype">float</span> factor);</div>
<div class="line">    <span class="keywordtype">void</span> dolly(<span class="keywordtype">float</span> distance);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Position calculation</span></div>
<div class="line">    Vector3f calculatePosition() <span class="keyword">const</span>;</div>
<div class="line">    Matrix4f calculateViewMatrix() <span class="keyword">const</span>;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// State access</span></div>
<div class="line">    <span class="keywordtype">void</span> setState(<span class="keyword">const</span> CameraState&amp; state);</div>
<div class="line">    CameraState getState() <span class="keyword">const</span>;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Constraints</span></div>
<div class="line">    <span class="keywordtype">void</span> setConstraints(<span class="keyword">const</span> CameraConstraints&amp; constraints);</div>
<div class="line">    <span class="keywordtype">void</span> applyConstraints();</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Utility functions</span></div>
<div class="line">    <span class="keywordtype">void</span> lookAt(<span class="keyword">const</span> Vector3f&amp; position, <span class="keyword">const</span> Vector3f&amp; target, <span class="keyword">const</span> Vector3f&amp; up);</div>
<div class="line">    <span class="keywordtype">void</span> frameBox(<span class="keyword">const</span> BoundingBox&amp; box, <span class="keywordtype">float</span> margin = 0.1f);</div>
<div class="line">    </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    Vector3f m_target;</div>
<div class="line">    Vector3f m_up;</div>
<div class="line">    <span class="keywordtype">float</span> m_distance;</div>
<div class="line">    <span class="keywordtype">float</span> m_azimuth;</div>
<div class="line">    <span class="keywordtype">float</span> m_elevation;</div>
<div class="line">    <span class="keywordtype">float</span> m_fieldOfView;</div>
<div class="line">    <span class="keywordtype">float</span> m_nearPlane;</div>
<div class="line">    <span class="keywordtype">float</span> m_farPlane;</div>
<div class="line">    ProjectionType m_projectionType;</div>
<div class="line">    CameraConstraints m_constraints;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordtype">void</span> updateUpVector();</div>
<div class="line">    Vector3f sphericalToCartesian(<span class="keywordtype">float</span> azimuth, <span class="keywordtype">float</span> elevation, <span class="keywordtype">float</span> radius) <span class="keyword">const</span>;</div>
<div class="line">};</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md126"></a>
ViewPresets</h2>
<div class="fragment"><div class="line"><span class="keyword">class </span>ViewPresets {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    CameraState getPreset(ViewType view) <span class="keyword">const</span>;</div>
<div class="line">    <span class="keywordtype">void</span> setCustomPreset(<span class="keyword">const</span> std::string&amp; name, <span class="keyword">const</span> CameraState&amp; state);</div>
<div class="line">    std::vector&lt;std::string&gt; getCustomPresetNames() <span class="keyword">const</span>;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Calculate view transformations</span></div>
<div class="line">    CameraState calculateFrontView(<span class="keyword">const</span> BoundingBox&amp; bounds) <span class="keyword">const</span>;</div>
<div class="line">    CameraState calculateBackView(<span class="keyword">const</span> BoundingBox&amp; bounds) <span class="keyword">const</span>;</div>
<div class="line">    CameraState calculateTopView(<span class="keyword">const</span> BoundingBox&amp; bounds) <span class="keyword">const</span>;</div>
<div class="line">    CameraState calculateBottomView(<span class="keyword">const</span> BoundingBox&amp; bounds) <span class="keyword">const</span>;</div>
<div class="line">    CameraState calculateLeftView(<span class="keyword">const</span> BoundingBox&amp; bounds) <span class="keyword">const</span>;</div>
<div class="line">    CameraState calculateRightView(<span class="keyword">const</span> BoundingBox&amp; bounds) <span class="keyword">const</span>;</div>
<div class="line">    CameraState calculateIsometricView(<span class="keyword">const</span> BoundingBox&amp; bounds) <span class="keyword">const</span>;</div>
<div class="line">    </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    std::unordered_map&lt;std::string, CameraState&gt; m_customPresets;</div>
<div class="line">    BoundingBox m_sceneBounds;</div>
<div class="line">    </div>
<div class="line">    CameraState createOrthographicView(<span class="keyword">const</span> Vector3f&amp; direction, <span class="keyword">const</span> Vector3f&amp; up, <span class="keyword">const</span> BoundingBox&amp; bounds) <span class="keyword">const</span>;</div>
<div class="line">    <span class="keywordtype">float</span> calculateOptimalDistance(<span class="keyword">const</span> BoundingBox&amp; bounds, <span class="keywordtype">float</span> fieldOfView) <span class="keyword">const</span>;</div>
<div class="line">};</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md127"></a>
CameraAnimator</h2>
<div class="fragment"><div class="line"><span class="keyword">class </span>CameraAnimator {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keywordtype">void</span> animateTo(<span class="keyword">const</span> CameraState&amp; targetState, <span class="keywordtype">float</span> duration, EasingFunction easing = EasingFunction::EaseInOut);</div>
<div class="line">    <span class="keywordtype">void</span> animateOrbit(<span class="keywordtype">float</span> deltaAzimuth, <span class="keywordtype">float</span> deltaElevation, <span class="keywordtype">float</span> duration);</div>
<div class="line">    <span class="keywordtype">void</span> animateZoom(<span class="keywordtype">float</span> targetDistance, <span class="keywordtype">float</span> duration);</div>
<div class="line">    <span class="keywordtype">void</span> animatePan(<span class="keyword">const</span> Vector3f&amp; targetPosition, <span class="keywordtype">float</span> duration);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordtype">bool</span> isAnimating() <span class="keyword">const</span>;</div>
<div class="line">    <span class="keywordtype">void</span> stop();</div>
<div class="line">    <span class="keywordtype">void</span> update(<span class="keywordtype">float</span> deltaTime);</div>
<div class="line">    </div>
<div class="line">    CameraState getCurrentState() <span class="keyword">const</span>;</div>
<div class="line">    </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    <span class="keyword">struct </span>Animation {</div>
<div class="line">        CameraState startState;</div>
<div class="line">        CameraState targetState;</div>
<div class="line">        <span class="keywordtype">float</span> duration;</div>
<div class="line">        <span class="keywordtype">float</span> elapsedTime;</div>
<div class="line">        EasingFunction easing;</div>
<div class="line">        <span class="keywordtype">bool</span> active;</div>
<div class="line">    };</div>
<div class="line">    </div>
<div class="line">    Animation m_currentAnimation;</div>
<div class="line">    </div>
<div class="line">    CameraState interpolateStates(<span class="keyword">const</span> CameraState&amp; start, <span class="keyword">const</span> CameraState&amp; end, <span class="keywordtype">float</span> t, EasingFunction easing) <span class="keyword">const</span>;</div>
<div class="line">    <span class="keywordtype">float</span> applyEasing(<span class="keywordtype">float</span> t, EasingFunction easing) <span class="keyword">const</span>;</div>
<div class="line">};</div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md128"></a>
Easing Functions</h1>
<div class="fragment"><div class="line"><span class="keyword">enum class</span> EasingFunction {</div>
<div class="line">    Linear,</div>
<div class="line">    EaseIn,</div>
<div class="line">    EaseOut,</div>
<div class="line">    EaseInOut,</div>
<div class="line">    EaseInBack,</div>
<div class="line">    EaseOutBack,</div>
<div class="line">    EaseInOutBack</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>EasingFunctions {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">float</span> apply(<span class="keywordtype">float</span> t, EasingFunction function);</div>
<div class="line">    </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">float</span> easeInQuad(<span class="keywordtype">float</span> t);</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">float</span> easeOutQuad(<span class="keywordtype">float</span> t);</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">float</span> easeInOutQuad(<span class="keywordtype">float</span> t);</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">float</span> easeInBack(<span class="keywordtype">float</span> t);</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">float</span> easeOutBack(<span class="keywordtype">float</span> t);</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">float</span> easeInOutBack(<span class="keywordtype">float</span> t);</div>
<div class="line">};</div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md129"></a>
Input Integration</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md130"></a>
Mouse Controls</h2>
<ul>
<li><b>Left Drag</b>: Orbit around target</li>
<li><b>Right Drag</b>: Pan camera</li>
<li><b>Middle Drag</b>: Alternative pan</li>
<li><b>Scroll Wheel</b>: Zoom in/out</li>
<li><b>Double Click</b>: Frame selection or auto-focus</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md131"></a>
Keyboard Shortcuts</h2>
<ul>
<li><b>Number Keys 1-7</b>: Switch to preset views</li>
<li><b>F</b>: Frame selection</li>
<li><b>Home</b>: Reset camera</li>
<li><b>Ctrl + Mouse</b>: Constrained movement</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md132"></a>
Touch Controls (Qt)</h2>
<ul>
<li><b>Single Touch Drag</b>: Orbit</li>
<li><b>Two Finger Drag</b>: Pan</li>
<li><b>Pinch</b>: Zoom</li>
<li><b>Double Tap</b>: Frame selection</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md133"></a>
VR Controls</h2>
<ul>
<li><b>Head Movement</b>: Natural camera movement</li>
<li><b>Hand Gestures</b>: Point to focus target</li>
<li><b>Voice Commands</b>: "Front view", "Reset camera"</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md134"></a>
Performance Considerations</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md135"></a>
Matrix Caching</h2>
<ul>
<li>Cache view and projection matrices</li>
<li>Invalidate only when camera changes</li>
<li>Avoid unnecessary matrix calculations</li>
<li>Use dirty flags for optimization</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md136"></a>
Animation Optimization</h2>
<ul>
<li>Skip interpolation for very small changes</li>
<li>Use fixed timestep for consistent animation</li>
<li>Batch multiple small movements</li>
<li>Early termination for completed animations</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md137"></a>
Constraint Validation</h2>
<ul>
<li>Lazy constraint application</li>
<li>Incremental constraint checking</li>
<li>Optimized bounds testing</li>
<li>Minimal state copying</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md138"></a>
Events</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md139"></a>
CameraChanged Event</h2>
<div class="fragment"><div class="line"><span class="keyword">struct </span>CameraChangedEvent {</div>
<div class="line">    CameraState oldState;</div>
<div class="line">    CameraState newState;</div>
<div class="line">    ChangeType changeType; <span class="comment">// POSITION, ROTATION, ZOOM, VIEW_PRESET</span></div>
<div class="line">};</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md140"></a>
ViewChanged Event</h2>
<div class="fragment"><div class="line"><span class="keyword">struct </span>ViewChangedEvent {</div>
<div class="line">    ViewType oldView;</div>
<div class="line">    ViewType newView;</div>
<div class="line">    <span class="keywordtype">bool</span> animated;</div>
<div class="line">};</div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md141"></a>
Testing Strategy</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md142"></a>
Unit Tests</h2>
<ul>
<li>Matrix calculation accuracy</li>
<li>Constraint enforcement</li>
<li>Animation interpolation</li>
<li>State serialization</li>
<li>View preset calculations</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md143"></a>
Integration Tests</h2>
<ul>
<li>Input handling integration</li>
<li>Rendering system integration</li>
<li>State persistence</li>
<li>Cross-platform behavior</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md144"></a>
Visual Tests</h2>
<ul>
<li>Smooth animation playback</li>
<li>Correct view transitions</li>
<li>Constraint visualization</li>
<li>Matrix accuracy validation</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md145"></a>
Performance Tests</h2>
<ul>
<li>Animation frame rate consistency</li>
<li>Matrix calculation performance</li>
<li>Memory usage validation</li>
<li>Large scene handling</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md146"></a>
Dependencies</h1>
<ul>
<li><b>Foundation/Math</b>: Matrix and vector operations</li>
<li><b>Foundation/Events</b>: Camera change notifications</li>
<li><b>Core/Input</b>: Input event processing</li>
<li><b>Foundation/Config</b>: Camera settings and preferences</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md147"></a>
Platform Considerations</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md148"></a>
Desktop</h2>
<ul>
<li>Mouse and keyboard input</li>
<li>Multiple monitor support</li>
<li>High precision input handling</li>
<li>Customizable shortcuts</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md149"></a>
Mobile/Touch</h2>
<ul>
<li>Touch gesture recognition</li>
<li>Accelerometer integration</li>
<li>Battery-conscious animations</li>
<li>Adaptive sensitivity</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md150"></a>
VR</h2>
<ul>
<li>Head tracking integration</li>
<li>Hand gesture recognition</li>
<li>Comfort settings (motion sickness)</li>
<li>Spatial audio synchronization</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md151"></a>
File I/O Integration</h1>
<ul>
<li>Save camera state with projects</li>
<li>Export camera paths for animation</li>
<li>Import camera presets</li>
<li>Version compatibility for camera data </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
