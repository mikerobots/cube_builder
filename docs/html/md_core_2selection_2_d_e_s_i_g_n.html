<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Voxel Editor: Selection System Subsystem</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Voxel Editor<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('md_core_2selection_2_d_e_s_i_g_n.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Selection System Subsystem </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md290"></a></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md291"></a>
Purpose</h1>
<p>Manages voxel selection operations, multi-selection handling, selection persistence, and provides visual feedback for selected elements.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md292"></a>
Key Components</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md293"></a>
SelectionManager</h2>
<p><b>Responsibility</b>: Main interface for selection operations</p><ul>
<li>Single and multi-voxel selection</li>
<li>Selection state management</li>
<li>Selection history tracking</li>
<li>Integration with group operations</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md294"></a>
SelectionSet</h2>
<p><b>Responsibility</b>: Efficient storage of selected voxels</p><ul>
<li>Set operations (union, intersection, difference)</li>
<li>Spatial queries on selections</li>
<li>Memory-efficient storage</li>
<li>Serialization support</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md295"></a>
SelectionOperations</h2>
<p><b>Responsibility</b>: Bulk operations on selected voxels</p><ul>
<li>Move selected voxels</li>
<li>Copy/duplicate selections</li>
<li>Delete selected voxels</li>
<li>Transform operations</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md296"></a>
SelectionRenderer</h2>
<p><b>Responsibility</b>: Visual representation of selections</p><ul>
<li>Highlight rendering</li>
<li>Selection bounds visualization</li>
<li>Multi-selection color coding</li>
<li>Performance-optimized rendering</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md297"></a>
Interface Design</h1>
<div class="fragment"><div class="line"><span class="keyword">class </span>SelectionManager {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="comment">// Basic selection operations</span></div>
<div class="line">    <span class="keywordtype">void</span> selectVoxel(<span class="keyword">const</span> VoxelId&amp; voxel);</div>
<div class="line">    <span class="keywordtype">void</span> deselectVoxel(<span class="keyword">const</span> VoxelId&amp; voxel);</div>
<div class="line">    <span class="keywordtype">void</span> toggleVoxel(<span class="keyword">const</span> VoxelId&amp; voxel);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Multi-selection operations</span></div>
<div class="line">    <span class="keywordtype">void</span> selectAll();</div>
<div class="line">    <span class="keywordtype">void</span> selectNone();</div>
<div class="line">    <span class="keywordtype">void</span> selectInverse();</div>
<div class="line">    <span class="keywordtype">void</span> selectByResolution(<a class="code hl_typedef" href="test___event_dispatcher_8cpp.html#a809cb57e6c71414ebeedcdbcf7631be9">VoxelResolution</a> resolution);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Region selection</span></div>
<div class="line">    <span class="keywordtype">void</span> selectBox(<span class="keyword">const</span> BoundingBox&amp; box, <a class="code hl_typedef" href="test___event_dispatcher_8cpp.html#a809cb57e6c71414ebeedcdbcf7631be9">VoxelResolution</a> resolution);</div>
<div class="line">    <span class="keywordtype">void</span> selectSphere(<span class="keyword">const</span> Vector3f&amp; center, <span class="keywordtype">float</span> radius, <a class="code hl_typedef" href="test___event_dispatcher_8cpp.html#a809cb57e6c71414ebeedcdbcf7631be9">VoxelResolution</a> resolution);</div>
<div class="line">    <span class="keywordtype">void</span> selectFloodFill(<span class="keyword">const</span> VoxelId&amp; seed);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Selection queries</span></div>
<div class="line">    <span class="keywordtype">bool</span> isSelected(<span class="keyword">const</span> VoxelId&amp; voxel) <span class="keyword">const</span>;</div>
<div class="line">    std::vector&lt;VoxelId&gt; getSelection() <span class="keyword">const</span>;</div>
<div class="line">    <span class="keywordtype">size_t</span> getSelectionSize() <span class="keyword">const</span>;</div>
<div class="line">    <span class="keywordtype">bool</span> hasSelection() <span class="keyword">const</span>;</div>
<div class="line">    BoundingBox getSelectionBounds() <span class="keyword">const</span>;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Selection history</span></div>
<div class="line">    <span class="keywordtype">void</span> pushSelectionToHistory();</div>
<div class="line">    <span class="keywordtype">bool</span> canUndo() <span class="keyword">const</span>;</div>
<div class="line">    <span class="keywordtype">bool</span> canRedo() <span class="keyword">const</span>;</div>
<div class="line">    <span class="keywordtype">void</span> undoSelection();</div>
<div class="line">    <span class="keywordtype">void</span> redoSelection();</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Selection sets</span></div>
<div class="line">    <span class="keywordtype">void</span> saveSelectionSet(<span class="keyword">const</span> std::string&amp; name);</div>
<div class="line">    <span class="keywordtype">bool</span> loadSelectionSet(<span class="keyword">const</span> std::string&amp; name);</div>
<div class="line">    std::vector&lt;std::string&gt; getSelectionSetNames() <span class="keyword">const</span>;</div>
<div class="line">    <span class="keywordtype">void</span> deleteSelectionSet(<span class="keyword">const</span> std::string&amp; name);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Set operations</span></div>
<div class="line">    <span class="keywordtype">void</span> unionWith(<span class="keyword">const</span> SelectionSet&amp; other);</div>
<div class="line">    <span class="keywordtype">void</span> intersectWith(<span class="keyword">const</span> SelectionSet&amp; other);</div>
<div class="line">    <span class="keywordtype">void</span> subtractFrom(<span class="keyword">const</span> SelectionSet&amp; other);</div>
<div class="line">    </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    SelectionSet m_currentSelection;</div>
<div class="line">    std::stack&lt;SelectionSet&gt; m_undoStack;</div>
<div class="line">    std::stack&lt;SelectionSet&gt; m_redoStack;</div>
<div class="line">    std::unordered_map&lt;std::string, SelectionSet&gt; m_namedSets;</div>
<div class="line">    VoxelDataManager* m_voxelManager;</div>
<div class="line">    EventDispatcher* m_eventDispatcher;</div>
<div class="line">    <span class="keywordtype">size_t</span> m_maxHistorySize;</div>
<div class="line">};</div>
<div class="ttc" id="atest___event_dispatcher_8cpp_html_a809cb57e6c71414ebeedcdbcf7631be9"><div class="ttname"><a href="test___event_dispatcher_8cpp.html#a809cb57e6c71414ebeedcdbcf7631be9">VoxelResolution</a></div><div class="ttdeci">VoxelEditor::VoxelData::VoxelResolution VoxelResolution</div><div class="ttdef"><b>Definition</b> test_EventDispatcher.cpp:10</div></div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md298"></a>
Data Structures</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md299"></a>
VoxelId</h2>
<div class="fragment"><div class="line"><span class="keyword">struct </span>VoxelId {</div>
<div class="line">    Vector3i position;</div>
<div class="line">    <a class="code hl_typedef" href="test___event_dispatcher_8cpp.html#a809cb57e6c71414ebeedcdbcf7631be9">VoxelResolution</a> resolution;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordtype">bool</span> operator==(<span class="keyword">const</span> VoxelId&amp; other) <span class="keyword">const</span>;</div>
<div class="line">    <span class="keywordtype">bool</span> operator&lt;(<span class="keyword">const</span> VoxelId&amp; other) <span class="keyword">const</span>;</div>
<div class="line">    <span class="keywordtype">size_t</span> hash() <span class="keyword">const</span>;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Hash specialization for unordered containers</span></div>
<div class="line"><span class="keyword">namespace </span><a class="code hl_namespace" href="namespacestd.html">std</a> {</div>
<div class="line">    <span class="keyword">template</span>&lt;&gt;</div>
<div class="line">    <span class="keyword">struct </span>hash&lt;VoxelId&gt; {</div>
<div class="line">        <span class="keywordtype">size_t</span> operator()(<span class="keyword">const</span> VoxelId&amp; <span class="keywordtype">id</span>)<span class="keyword"> const </span>{</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keywordtype">id</span>.hash();</div>
<div class="line">        }</div>
<div class="line">    };</div>
<div class="line">}</div>
<div class="ttc" id="anamespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdef"><b>Definition</b> FileTypes.h:253</div></div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md300"></a>
SelectionSet</h2>
<div class="fragment"><div class="line"><span class="keyword">class </span>SelectionSet {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="comment">// Basic operations</span></div>
<div class="line">    <span class="keywordtype">void</span> add(<span class="keyword">const</span> VoxelId&amp; voxel);</div>
<div class="line">    <span class="keywordtype">void</span> remove(<span class="keyword">const</span> VoxelId&amp; voxel);</div>
<div class="line">    <span class="keywordtype">bool</span> contains(<span class="keyword">const</span> VoxelId&amp; voxel) <span class="keyword">const</span>;</div>
<div class="line">    <span class="keywordtype">void</span> clear();</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Bulk operations</span></div>
<div class="line">    <span class="keywordtype">void</span> addRange(<span class="keyword">const</span> std::vector&lt;VoxelId&gt;&amp; voxels);</div>
<div class="line">    <span class="keywordtype">void</span> removeRange(<span class="keyword">const</span> std::vector&lt;VoxelId&gt;&amp; voxels);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Set operations</span></div>
<div class="line">    SelectionSet unionWith(<span class="keyword">const</span> SelectionSet&amp; other) <span class="keyword">const</span>;</div>
<div class="line">    SelectionSet intersectWith(<span class="keyword">const</span> SelectionSet&amp; other) <span class="keyword">const</span>;</div>
<div class="line">    SelectionSet subtract(<span class="keyword">const</span> SelectionSet&amp; other) <span class="keyword">const</span>;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Queries</span></div>
<div class="line">    <span class="keywordtype">size_t</span> size() <span class="keyword">const</span>;</div>
<div class="line">    <span class="keywordtype">bool</span> empty() <span class="keyword">const</span>;</div>
<div class="line">    std::vector&lt;VoxelId&gt; toVector() <span class="keyword">const</span>;</div>
<div class="line">    BoundingBox getBounds() <span class="keyword">const</span>;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Iteration</span></div>
<div class="line">    <span class="keyword">auto</span> begin()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_voxels.begin(); }</div>
<div class="line">    <span class="keyword">auto</span> end()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_voxels.end(); }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Serialization</span></div>
<div class="line">    <span class="keywordtype">void</span> serialize(BinaryWriter&amp; writer) <span class="keyword">const</span>;</div>
<div class="line">    <span class="keywordtype">void</span> deserialize(BinaryReader&amp; reader);</div>
<div class="line">    </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    std::unordered_set&lt;VoxelId&gt; m_voxels;</div>
<div class="line">    <span class="keyword">mutable</span> std::optional&lt;BoundingBox&gt; m_cachedBounds;</div>
<div class="line">};</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md301"></a>
SelectionMode</h2>
<div class="fragment"><div class="line"><span class="keyword">enum class</span> SelectionMode {</div>
<div class="line">    Replace,    <span class="comment">// Replace current selection</span></div>
<div class="line">    Add,        <span class="comment">// Add to current selection</span></div>
<div class="line">    Subtract,   <span class="comment">// Remove from current selection</span></div>
<div class="line">    Intersect   <span class="comment">// Intersect with current selection</span></div>
<div class="line">};</div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md302"></a>
Selection Algorithms</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md303"></a>
Flood Fill Selection</h2>
<div class="fragment"><div class="line"><span class="keyword">class </span>FloodFillSelector {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    SelectionSet select(<span class="keyword">const</span> VoxelId&amp; seed, VoxelDataManager&amp; voxelManager, FloodFillCriteria criteria);</div>
<div class="line">    </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    <span class="keyword">enum class</span> FloodFillCriteria {</div>
<div class="line">        Connected,          <span class="comment">// Connected voxels only</span></div>
<div class="line">        SameResolution,     <span class="comment">// Same resolution level</span></div>
<div class="line">        ConnectedSameRes    <span class="comment">// Connected + same resolution</span></div>
<div class="line">    };</div>
<div class="line">    </div>
<div class="line">    <span class="keywordtype">bool</span> shouldInclude(<span class="keyword">const</span> VoxelId&amp; current, <span class="keyword">const</span> VoxelId&amp; neighbor, FloodFillCriteria criteria);</div>
<div class="line">    std::vector&lt;VoxelId&gt; getNeighbors(<span class="keyword">const</span> VoxelId&amp; voxel);</div>
<div class="line">};</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md304"></a>
Box Selection</h2>
<div class="fragment"><div class="line"><span class="keyword">class </span>BoxSelector {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    SelectionSet select(<span class="keyword">const</span> BoundingBox&amp; box, <a class="code hl_typedef" href="test___event_dispatcher_8cpp.html#a809cb57e6c71414ebeedcdbcf7631be9">VoxelResolution</a> resolution, VoxelDataManager&amp; voxelManager);</div>
<div class="line">    </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    <span class="keywordtype">bool</span> isVoxelInBox(<span class="keyword">const</span> VoxelId&amp; voxel, <span class="keyword">const</span> BoundingBox&amp; box);</div>
<div class="line">    std::vector&lt;VoxelId&gt; getVoxelsInRegion(<span class="keyword">const</span> BoundingBox&amp; box, <a class="code hl_typedef" href="test___event_dispatcher_8cpp.html#a809cb57e6c71414ebeedcdbcf7631be9">VoxelResolution</a> resolution);</div>
<div class="line">};</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md305"></a>
Sphere Selection</h2>
<div class="fragment"><div class="line"><span class="keyword">class </span>SphereSelector {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    SelectionSet select(<span class="keyword">const</span> Vector3f&amp; center, <span class="keywordtype">float</span> radius, <a class="code hl_typedef" href="test___event_dispatcher_8cpp.html#a809cb57e6c71414ebeedcdbcf7631be9">VoxelResolution</a> resolution, VoxelDataManager&amp; voxelManager);</div>
<div class="line">    </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    <span class="keywordtype">bool</span> isVoxelInSphere(<span class="keyword">const</span> VoxelId&amp; voxel, <span class="keyword">const</span> Vector3f&amp; center, <span class="keywordtype">float</span> radius);</div>
<div class="line">    <span class="keywordtype">float</span> distanceToVoxel(<span class="keyword">const</span> VoxelId&amp; voxel, <span class="keyword">const</span> Vector3f&amp; point);</div>
<div class="line">};</div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md306"></a>
Visual Feedback</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md307"></a>
Selection Rendering</h2>
<div class="fragment"><div class="line"><span class="keyword">class </span>SelectionRenderer {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keywordtype">void</span> renderSelection(<span class="keyword">const</span> SelectionSet&amp; selection, <span class="keyword">const</span> RenderContext&amp; context);</div>
<div class="line">    <span class="keywordtype">void</span> renderSelectionBounds(<span class="keyword">const</span> BoundingBox&amp; bounds, <span class="keyword">const</span> RenderContext&amp; context);</div>
<div class="line">    <span class="keywordtype">void</span> renderSelectionPreview(<span class="keyword">const</span> SelectionSet&amp; preview, <span class="keyword">const</span> RenderContext&amp; context);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Visual settings</span></div>
<div class="line">    <span class="keywordtype">void</span> setSelectionColor(<span class="keyword">const</span> Color&amp; color);</div>
<div class="line">    <span class="keywordtype">void</span> setSelectionOpacity(<span class="keywordtype">float</span> opacity);</div>
<div class="line">    <span class="keywordtype">void</span> setAnimationEnabled(<span class="keywordtype">bool</span> enabled);</div>
<div class="line">    </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    <span class="keywordtype">void</span> renderVoxelHighlight(<span class="keyword">const</span> VoxelId&amp; voxel, <span class="keyword">const</span> Color&amp; color, <span class="keyword">const</span> RenderContext&amp; context);</div>
<div class="line">    <span class="keywordtype">void</span> renderWireframeBounds(<span class="keyword">const</span> BoundingBox&amp; bounds, <span class="keyword">const</span> Color&amp; color, <span class="keyword">const</span> RenderContext&amp; context);</div>
<div class="line">    </div>
<div class="line">    Color m_selectionColor;</div>
<div class="line">    Color m_previewColor;</div>
<div class="line">    <span class="keywordtype">float</span> m_opacity;</div>
<div class="line">    <span class="keywordtype">bool</span> m_animationEnabled;</div>
<div class="line">    std::unique_ptr&lt;Mesh&gt; m_highlightMesh;</div>
<div class="line">};</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md308"></a>
Visual Indicators</h2>
<ul>
<li><b>Selected Voxels</b>: Bright outline or overlay</li>
<li><b>Selection Bounds</b>: Wireframe bounding box</li>
<li><b>Multi-Selection</b>: Color-coded by selection order</li>
<li><b>Preview Selection</b>: Semi-transparent overlay</li>
<li><b>Animation</b>: Pulsing or breathing effect</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md309"></a>
Selection Operations</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md310"></a>
Move Operation</h2>
<div class="fragment"><div class="line"><span class="keyword">class </span>MoveSelectionOperation {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    MoveSelectionOperation(<span class="keyword">const</span> SelectionSet&amp; selection, <span class="keyword">const</span> Vector3f&amp; offset);</div>
<div class="line">    <span class="keywordtype">bool</span> execute(VoxelDataManager&amp; voxelManager, SelectionManager&amp; selectionManager);</div>
<div class="line">    <span class="keywordtype">bool</span> undo(VoxelDataManager&amp; voxelManager, SelectionManager&amp; selectionManager);</div>
<div class="line">    </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    SelectionSet m_originalSelection;</div>
<div class="line">    SelectionSet m_newSelection;</div>
<div class="line">    Vector3f m_offset;</div>
<div class="line">    std::vector&lt;std::pair&lt;VoxelId, VoxelId&gt;&gt; m_moves;</div>
<div class="line">};</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md311"></a>
Copy Operation</h2>
<div class="fragment"><div class="line"><span class="keyword">class </span>CopySelectionOperation {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    CopySelectionOperation(<span class="keyword">const</span> SelectionSet&amp; selection, <span class="keyword">const</span> Vector3f&amp; offset);</div>
<div class="line">    SelectionSet execute(VoxelDataManager&amp; voxelManager);</div>
<div class="line">    <span class="keywordtype">bool</span> undo(VoxelDataManager&amp; voxelManager);</div>
<div class="line">    </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    SelectionSet m_sourceSelection;</div>
<div class="line">    SelectionSet m_createdSelection;</div>
<div class="line">    Vector3f m_offset;</div>
<div class="line">};</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md312"></a>
Delete Operation</h2>
<div class="fragment"><div class="line"><span class="keyword">class </span>DeleteSelectionOperation {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    DeleteSelectionOperation(<span class="keyword">const</span> SelectionSet&amp; selection);</div>
<div class="line">    <span class="keywordtype">bool</span> execute(VoxelDataManager&amp; voxelManager, SelectionManager&amp; selectionManager);</div>
<div class="line">    <span class="keywordtype">bool</span> undo(VoxelDataManager&amp; voxelManager, SelectionManager&amp; selectionManager);</div>
<div class="line">    </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    SelectionSet m_deletedVoxels;</div>
<div class="line">};</div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md313"></a>
Performance Optimization</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md314"></a>
Spatial Indexing</h2>
<ul>
<li>Octree-based spatial indexing for fast region queries</li>
<li>Cached bounding boxes for selections</li>
<li>Incremental updates for selection changes</li>
<li>Level-of-detail for large selections</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md315"></a>
Memory Management</h2>
<ul>
<li>Bit vectors for dense selections</li>
<li>Sparse storage for scattered selections</li>
<li>Memory pooling for temporary selections</li>
<li>Automatic optimization based on selection density</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md316"></a>
Rendering Optimization</h2>
<ul>
<li>Instanced rendering for multiple selections</li>
<li>Frustum culling for off-screen selections</li>
<li>Level-of-detail for distant selections</li>
<li>Batched rendering updates</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md317"></a>
Events</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md318"></a>
SelectionChanged Event</h2>
<div class="fragment"><div class="line"><span class="keyword">struct </span>SelectionChangedEvent {</div>
<div class="line">    SelectionSet oldSelection;</div>
<div class="line">    SelectionSet newSelection;</div>
<div class="line">    SelectionChangeType changeType; <span class="comment">// ADDED, REMOVED, REPLACED, CLEARED</span></div>
<div class="line">};</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md319"></a>
SelectionOperationEvent</h2>
<div class="fragment"><div class="line"><span class="keyword">struct </span>SelectionOperationEvent {</div>
<div class="line">    SelectionOperationType operationType; <span class="comment">// MOVE, COPY, DELETE</span></div>
<div class="line">    SelectionSet affectedVoxels;</div>
<div class="line">    <span class="keywordtype">bool</span> success;</div>
<div class="line">};</div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md320"></a>
Testing Strategy</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md321"></a>
Unit Tests</h2>
<ul>
<li>Selection set operations</li>
<li>Selection algorithms accuracy</li>
<li>History management</li>
<li>Serialization/deserialization</li>
<li>Performance with large selections</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md322"></a>
Integration Tests</h2>
<ul>
<li>Voxel data manager integration</li>
<li>Visual feedback rendering</li>
<li>Group system integration</li>
<li>Undo/redo system integration</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md323"></a>
Visual Tests</h2>
<ul>
<li>Selection highlighting accuracy</li>
<li>Multi-selection visual clarity</li>
<li>Animation smoothness</li>
<li>Rendering performance</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md324"></a>
Performance Tests</h2>
<ul>
<li>Large selection handling</li>
<li>Memory usage optimization</li>
<li>Rendering performance</li>
<li>Spatial query efficiency</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md325"></a>
Dependencies</h1>
<ul>
<li><b>Core/VoxelData</b>: Access to voxel data for validation</li>
<li><b>Core/Rendering</b>: Visual feedback rendering</li>
<li><b>Foundation/Math</b>: Geometric calculations and transformations</li>
<li><b>Foundation/Events</b>: Selection change notifications</li>
<li><b>Core/UndoRedo</b>: Command pattern integration</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md326"></a>
Input Integration</h1>
<ul>
<li>Mouse selection (click, drag, box select)</li>
<li>Keyboard modifiers (Ctrl for add, Shift for range)</li>
<li>Touch selection for mobile interfaces</li>
<li>VR hand tracking selection </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
